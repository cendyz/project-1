import{Q as _,l as A,X,Y as Z,Z as z,h as J,i as U,k as L,$ as R,a0 as q,r as x,a1 as ee,a2 as W,z as I,a3 as te,a4 as S,m as ne}from"./BzjH7yJs.js";function ie(e){return X()?(Z(e),!0):!1}const j=new WeakMap,re=(...e)=>{var t;const n=e[0],r=(t=z())==null?void 0:t.proxy;if(r==null&&!J())throw new Error("injectLocal must be called in setup");return r&&j.has(r)&&n in j.get(r)?j.get(r)[n]:U(...e)},oe=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ae=Object.prototype.toString,ue=e=>ae.call(e)==="[object Object]",se=()=>{};function le(...e){if(e.length!==1)return q(...e);const t=e[0];return typeof t=="function"?R(ee(()=>({get:t,set:se}))):x(t)}function ce(e,t){function n(...r){return new Promise((s,c)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(s).catch(c)})}return n}const Q=e=>e();function fe(e=Q,t={}){const{initialState:n="active"}=t,r=le(n==="active");function s(){r.value=!1}function c(){r.value=!0}const f=(...i)=>{r.value&&e(...i)};return{isActive:R(r),pause:s,resume:c,eventFilter:f}}function H(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function T(e){return Array.isArray(e)?e:[e]}function de(e){return z()}function pe(e,t,n={}){const{eventFilter:r=Q,...s}=n;return A(e,ce(r,t),s)}function he(e,t,n={}){const{eventFilter:r,initialState:s="active",...c}=n,{eventFilter:f,pause:i,resume:u,isActive:a}=fe(r,{initialState:s});return{stop:pe(e,t,{...c,eventFilter:f}),pause:i,resume:u,isActive:a}}function Y(e,t=!0,n){de()?L(e,n):t?e():_(e)}function ve(e,t,n){return A(e,t,{...n,immediate:!0})}const E=oe?window:void 0;function me(e){var t;const n=S(e);return(t=n==null?void 0:n.$el)!=null?t:n}function M(...e){const t=[],n=()=>{t.forEach(i=>i()),t.length=0},r=(i,u,a,l)=>(i.addEventListener(u,a,l),()=>i.removeEventListener(u,a,l)),s=I(()=>{const i=T(S(e[0])).filter(u=>u!=null);return i.every(u=>typeof u!="string")?i:void 0}),c=ve(()=>{var i,u;return[(u=(i=s.value)==null?void 0:i.map(a=>me(a)))!=null?u:[E].filter(a=>a!=null),T(S(s.value?e[1]:e[0])),T(ne(s.value?e[2]:e[1])),S(s.value?e[3]:e[2])]},([i,u,a,l])=>{if(n(),!(i!=null&&i.length)||!(u!=null&&u.length)||!(a!=null&&a.length))return;const p=ue(l)?{...l}:l;t.push(...i.flatMap(y=>u.flatMap(h=>a.map(v=>r(y,h,v,p)))))},{flush:"post"}),f=()=>{c(),n()};return ie(n),f}function ye(){const e=W(!1),t=z();return t&&L(()=>{e.value=!0},t),e}function we(e){const t=ye();return I(()=>(t.value,!!e()))}const Se=Symbol("vueuse-ssr-width");function ge(){const e=J()?re(Se,null):null;return typeof e=="number"?e:void 0}function be(e,t={}){const{window:n=E,ssrWidth:r=ge()}=t,s=we(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function"),c=W(typeof r=="number"),f=W(),i=W(!1),u=a=>{i.value=a.matches};return te(()=>{if(c.value){c.value=!s.value;const a=S(e).split(",");i.value=a.some(l=>{const p=l.includes("not all"),y=l.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),h=l.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let v=!!(y||h);return y&&v&&(v=r>=H(y[1])),h&&v&&(v=r<=H(h[1])),p?!v:v});return}s.value&&(f.value=n.matchMedia(S(e)),i.value=f.value.matches)}),M(f,"change",u,{passive:!0}),I(()=>i.value)}const F=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V="__vueuse_ssr_handlers__",We=Ne();function Ne(){return V in F||(F[V]=F[V]||{}),F[V]}function Oe(e,t){return We[e]||t}function Ee(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Me={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},P="vueuse-storage";function Ve(e,t,n,r={}){var s;const{flush:c="pre",deep:f=!0,listenToStorageChanges:i=!0,writeDefaults:u=!0,mergeDefaults:a=!1,shallow:l,window:p=E,eventFilter:y,onError:h=o=>{console.error(o)},initOnMounted:v}=r,g=(l?W:x)(t),w=I(()=>S(e));if(!n)try{n=Oe("getDefaultStorage",()=>{var o;return(o=E)==null?void 0:o.localStorage})()}catch(o){h(o)}if(!n)return g;const b=S(t),k=Ee(b),N=(s=r.serializer)!=null?s:Me[k],{pause:$,resume:C}=he(g,()=>B(g.value),{flush:c,deep:f,eventFilter:y});A(w,()=>O(),{flush:c}),p&&i&&Y(()=>{n instanceof Storage?M(p,"storage",O,{passive:!0}):M(p,P,K),v&&O()}),v||O();function D(o,d){if(p){const m={key:w.value,oldValue:o,newValue:d,storageArea:n};p.dispatchEvent(n instanceof Storage?new StorageEvent("storage",m):new CustomEvent(P,{detail:m}))}}function B(o){try{const d=n.getItem(w.value);if(o==null)D(d,null),n.removeItem(w.value);else{const m=N.write(o);d!==m&&(n.setItem(w.value,m),D(d,m))}}catch(d){h(d)}}function G(o){const d=o?o.newValue:n.getItem(w.value);if(d==null)return u&&b!=null&&n.setItem(w.value,N.write(b)),b;if(!o&&a){const m=N.read(d);return typeof a=="function"?a(m,b):k==="object"&&!Array.isArray(m)?{...b,...m}:m}else return typeof d!="string"?d:N.read(d)}function O(o){if(!(o&&o.storageArea!==n)){if(o&&o.key==null){g.value=b;return}if(!(o&&o.key!==w.value)){$();try{(o==null?void 0:o.newValue)!==N.write(g.value)&&(g.value=G(o))}catch(d){h(d)}finally{o?_(C):C()}}}}function K(o){O(o.detail)}return g}function Ae(e={}){const{window:t=E,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:s=!0,includeScrollbar:c=!0,type:f="inner"}=e,i=W(n),u=W(r),a=()=>{if(t)if(f==="outer")i.value=t.outerWidth,u.value=t.outerHeight;else if(f==="visual"&&t.visualViewport){const{width:p,height:y,scale:h}=t.visualViewport;i.value=Math.round(p*h),u.value=Math.round(y*h)}else c?(i.value=t.innerWidth,u.value=t.innerHeight):(i.value=t.document.documentElement.clientWidth,u.value=t.document.documentElement.clientHeight)};a(),Y(a);const l={passive:!0};if(M("resize",a,l),t&&f==="visual"&&t.visualViewport&&M(t.visualViewport,"resize",a,l),s){const p=be("(orientation: portrait)");A(p,()=>a())}return{width:i,height:u}}export{Ve as a,Ae as u};
